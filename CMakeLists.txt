CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

OPTION(BUILD_BIND_CPP "Build the C++ bindings" OFF)

IF(BUILD_BIND_CPP)
	INCLUDE_DIRECTORIES("include")
	FILE(GLOB_RECURSE SIEGE++_SOURCES src/*.cpp)


	PROJECT(SIEGE++)
		ADD_LIBRARY(${PROJECT_NAME} SHARED ${SIEGE++_SOURCES})

		INSTALL(TARGETS ${PROJECT_NAME} DESTINATION lib)
	PROJECT(SIEGE++.static)
		ADD_LIBRARY(${PROJECT_NAME} STATIC ${SIEGE++_SOURCES})

		INSTALL(TARGETS ${PROJECT_NAME} DESTINATION lib)

	PROJECT(Example-Bindings-CPP)
		ADD_EXECUTABLE(${PROJECT_NAME} main.cpp)

		TARGET_LINK_LIBRARIES(${PROJECT_NAME} SIEGE SIEGE++ ${AUX_LIBRARIES})

		INSTALL(TARGETS ${PROJECT_NAME} DESTINATION bin)
ENDIF(BUILD_BIND_CPP)
