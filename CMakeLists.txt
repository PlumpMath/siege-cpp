CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

OPTION(BUILD_BIND_CPP "Build the C++ bindings" OFF)

IF(BUILD_BIND_CPP)
	PROJECT(SIEGE++)
		INCLUDE_DIRECTORIES("include")

		FILE(GLOB_RECURSE CPP_SOURCES src/*.cpp)
		ADD_LIBRARY(${PROJECT_NAME} ${CPP_SOURCES})

		INSTALL(TARGETS ${PROJECT_NAME} DESTINATION lib)
	PROJECT(Example-Bindings-CPP)
		ADD_EXECUTABLE(${PROJECT_NAME} main.cpp)

		TARGET_LINK_LIBRARIES(${PROJECT_NAME} SIEGE)
		IF(UNIX)
			TARGET_LINK_LIBRARIES(${PROJECT_NAME} dl m)
		ENDIF(UNIX)

		INSTALL(TARGETS ${PROJECT_NAME} DESTINATION bin)
ENDIF(BUILD_BIND_CPP)
